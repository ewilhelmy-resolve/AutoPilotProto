<!-- Knowledge Base Widget - Add this to your dashboard's right-sidebar -->
<!-- This widget uses existing dashboard CSS classes - no additional CSS needed -->

<div class="knowledge-widget" style="padding: 20px; background: rgba(255, 255, 255, 0.95); border: 1px solid rgba(0, 0, 0, 0.08); border-radius: 8px; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04); margin-bottom: 20px;">
    <!-- Header with title and count -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
        <div style="font-size: 14px; color: rgb(26, 26, 26); font-weight: 600; display: flex; align-items: center; gap: 8px;">
            <div style="width: 24px; height: 24px; background: rgba(78, 205, 196, 0.1); border: 1px solid rgba(78, 205, 196, 0.2); border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 12px;">üìö</div>
            Knowledge Base
        </div>
        <span style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3); border-radius: 4px; padding: 2px 6px; font-size: 10px; color: rgb(0, 255, 136); font-family: 'SF Mono', Monaco, monospace;">11 Articles</span>
    </div>
    
    <!-- Upload Area -->
    <div id="kb-upload-area" style="width: 100%; background: rgba(255, 255, 255, 0.8); border: 2px dashed rgba(0, 0, 0, 0.15); border-radius: 8px; padding: 16px; text-align: center; cursor: pointer; transition: 0.2s; margin-bottom: 16px;">
        <div style="font-size: 20px; margin-bottom: 8px;">‚¨ÜÔ∏è</div>
        <div style="font-size: 12px; color: rgb(26, 26, 26); font-weight: 500; margin-bottom: 4px;">Drop files or click to upload</div>
        <div style="font-size: 11px; color: rgba(0, 0, 0, 0.4);">PDF, DOC, TXT, MD ‚Ä¢ Max 100MB</div>
    </div>
    
    <!-- Stats Grid -->
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 12px; background: rgba(248, 250, 252, 0.8); border-radius: 6px; margin-bottom: 16px;">
        <div style="text-align: center;">
            <span style="font-size: 18px; font-weight: 600; color: rgb(0, 102, 255); display: block;">11</span>
            <span style="font-size: 10px; color: rgba(0, 0, 0, 0.5); text-transform: uppercase; letter-spacing: 0.3px; margin-top: 2px;">Articles</span>
        </div>
        <div style="text-align: center;">
            <span style="font-size: 18px; font-weight: 600; color: rgb(0, 102, 255); display: block;">350</span>
            <span style="font-size: 10px; color: rgba(0, 0, 0, 0.5); text-transform: uppercase; letter-spacing: 0.3px; margin-top: 2px;">Vectors</span>
        </div>
        <div style="text-align: center;">
            <span style="font-size: 18px; font-weight: 600; color: rgb(0, 102, 255); display: block;">89%</span>
            <span style="font-size: 10px; color: rgba(0, 0, 0, 0.5); text-transform: uppercase; letter-spacing: 0.3px; margin-top: 2px;">Accuracy</span>
        </div>
    </div>
    
    <!-- Recent Documents Section -->
    <div style="margin-bottom: 16px;">
        <div class="section-title">RECENT UPLOADS</div>
        
        <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; margin-bottom: 4px; background: rgba(248, 250, 252, 0.8); border-radius: 6px; font-size: 12px; transition: all 0.2s ease;">
            <span style="flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: rgb(26, 26, 26); font-weight: 500;">Employee Handbook.pdf</span>
            <span style="font-size: 10px; padding: 2px 4px; border-radius: 2px; text-transform: uppercase; font-weight: 600; background: rgba(0, 255, 136, 0.1); color: rgb(0, 150, 50);">Ready</span>
        </div>
        
        <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; margin-bottom: 4px; background: rgba(248, 250, 252, 0.8); border-radius: 6px; font-size: 12px; transition: all 0.2s ease;">
            <span style="flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: rgb(26, 26, 26); font-weight: 500;">IT Security Policies.docx</span>
            <span style="font-size: 10px; padding: 2px 4px; border-radius: 2px; text-transform: uppercase; font-weight: 600; background: rgba(255, 193, 7, 0.1); color: rgb(180, 120, 0);">Processing</span>
        </div>
        
        <div style="display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; margin-bottom: 4px; background: rgba(248, 250, 252, 0.8); border-radius: 6px; font-size: 12px; transition: all 0.2s ease;">
            <span style="flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: rgb(26, 26, 26); font-weight: 500;">Onboarding Checklist.md</span>
            <span style="font-size: 10px; padding: 2px 4px; border-radius: 2px; text-transform: uppercase; font-weight: 600; background: rgba(0, 255, 136, 0.1); color: rgb(0, 150, 50);">Ready</span>
        </div>
    </div>
    
    <!-- Manage Button -->
    <button onclick="window.location.href='/knowledge'" style="width: 100%; height: 40px; background: linear-gradient(135deg, rgb(0, 102, 255), rgb(78, 205, 196)); border: none; border-radius: 8px; color: white; font-size: 13px; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 2px 6px rgba(0, 102, 255, 0.08);">
        Manage Knowledge Base ‚Üí
    </button>
</div>

<script>
// Knowledge Base Widget functionality
(function() {
    const uploadArea = document.getElementById('kb-upload-area');
    
    // Hover effects
    uploadArea.addEventListener('mouseenter', function() {
        this.style.borderColor = 'rgba(78, 205, 196, 0.5)';
        this.style.background = 'rgb(255, 255, 255)';
        this.style.boxShadow = 'rgba(78, 205, 196, 0.1) 0px 0px 0px 3px';
    });
    
    uploadArea.addEventListener('mouseleave', function() {
        this.style.borderColor = 'rgba(0, 0, 0, 0.15)';
        this.style.background = 'rgba(255, 255, 255, 0.8)';
        this.style.boxShadow = 'none';
    });
    
    // Drag and drop
    uploadArea.addEventListener('dragover', function(e) {
        e.preventDefault();
        this.style.borderColor = 'rgba(78, 205, 196, 0.5)';
        this.style.background = 'rgb(255, 255, 255)';
    });
    
    uploadArea.addEventListener('dragleave', function() {
        this.style.borderColor = 'rgba(0, 0, 0, 0.15)';
        this.style.background = 'rgba(255, 255, 255, 0.8)';
    });
    
    uploadArea.addEventListener('drop', function(e) {
        e.preventDefault();
        this.style.borderColor = 'rgba(0, 0, 0, 0.15)';
        this.style.background = 'rgba(255, 255, 255, 0.8)';
        
        const files = e.dataTransfer.files;
        if (files.length > 0) {
            handleKnowledgeUpload(files);
        }
    });
    
    // Click to upload
    uploadArea.addEventListener('click', function() {
        const input = document.createElement('input');
        input.type = 'file';
        input.multiple = true;
        input.accept = '.pdf,.doc,.docx,.txt,.md,.html';
        input.onchange = function(e) {
            const files = e.target.files;
            if (files.length > 0) {
                handleKnowledgeUpload(files);
            }
        };
        input.click();
    });
    
    // Handle file upload
    function handleKnowledgeUpload(files) {
        console.log('Uploading knowledge base files:', files);
        // TODO: Implement actual upload to /api/knowledge/upload
        
        // Show upload feedback
        const originalHTML = uploadArea.innerHTML;
        uploadArea.innerHTML = '<div style="font-size: 16px;">üì§ Uploading...</div>';
        
        setTimeout(() => {
            uploadArea.innerHTML = originalHTML;
        }, 2000);
    }
})();
</script>